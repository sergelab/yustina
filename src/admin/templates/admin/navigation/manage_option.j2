{% extends 'admin/common_layout.j2' %}
{% from 'admin/api/base.j2' import render_trashed %}
{% from 'admin/api/forms.j2' import render_field %}

{% set form_action = url_for('admin.manage_navigation_option', option_id=option_id) %}
{% block page_title %}{{ _('Add navigation option heading') if not option_id else _('Edit navigation option heading') }}{% endblock %}

{% block page_buttons %}
    {% if not option.in_trash -%}
        <button class="uk-button uk-button-primary" name="save">{{ _('Save button') }}</button>
        <button class="uk-button uk-button-primary" name="save_and_continue">{{ _('Save and continue button') }}</button>
    {%- endif %}
    {% if option and option_id %}
        {% if option.in_trash -%}
            <span>{{ _('Object in trash string') }}</span>
            <button class="uk-button uk-button-success" name="restore">{{ _('Restore button') }}</button>
        {%- endif %}
        <button class="uk-button uk-button-danger" name="delete">{{ _('Delete button') if option.in_trash else _('In trash button') }}</button>
    {% endif %}
    <a href="{{ url_for('admin.navigation') }}" class="uk-button">{{ _('Cancel button') }}</a>
{% endblock %}

{% block page_content %}
    {{ form.hidden_tag() }}

    <div class="uk-form-row">
        <label for="{{ form.ru_caption.id }}" class="uk-form-label">{{ form.ru_caption.label.text }}</label>
        <div class="uk-form-controls">
            {{ form.ru_caption }}
            &emsp;{{ form.ru_activity }}
            <label for="{{ form.ru_activity.id }}">{{ form.ru_activity.label.text }}</label>
        </div>
    </div>

    <div class="uk-form-row">
        <label for="{{ form.en_caption.id }}" class="uk-form-label">{{ form.en_caption.label.text }}</label>
        <div class="uk-form-controls">
            {{ form.en_caption }}
            &emsp;{{ form.en_activity }}
            <label for="{{ form.en_activity.id }}">{{ form.en_activity.label.text }}</label>
        </div>
    </div>

    {% set exclude_list = ['ru_caption', 'en_caption', 'ru_activity', 'en_activity'] %}
    {% for field in form if field.widget.input_type != 'hidden' and field.name not in exclude_list -%}
        <div class="uk-form-row">
            {{ render_field(field, disabled=option.in_trash) }}
        </div>
    {%- endfor %}
{% endblock %}